asm 00/base.asm 00.out
asm privileged/base.asm privileged.out
asm boot/base.asm boot.out
link 00.out 0000 4000

if TI73
    link privileged.out 70000 4000
    link boot.out 7C000 4000
	pages 00 1C
endif
if TI83p
    link privileged.out 70000 4000
    link boot.out 7C000 4000
	pages 00 1C
endif
if TI83pSE
    link privileged.out 1F0000 4000
    link boot.out 1FC000 4000
	pages 00 7C
endif
if TI84p
    link privileged.out F0000 4000
    link boot.out FC000 4000
	pages 00 3C
endif
if TI84pSE
    link privileged.out 1F0000 4000
    link boot.out 1FC000 4000
	pages 00 7C
endif

echo Creating kernel jump table
load 00.lab
jump include boot
jump include shutdown
jump finish 4000 ../../inc/kernel.inc

rm 00.out 00.out.lst 00.out.lab
rm privileged.out privileged.out.lst privileged.out.lab
rm boot.out boot.out.lst boot.out.lab